{
	"Processes": [
		{
			"Name": "Virheenhallinta ja raportointi v2",
			"Modified": "2024-10-16T08:03:41.7883654",
			"Modifier": "jarmo.ollikainen@frends.com",
			"TagString": null,
			"Tags": [],
			"Description": "Yleinen virhehallinta- ja raportointialiprosessi. \n\nTarkoituksena ottaa huomioon haluttaessa, ettei samasta virheestä hälytettäisi liian usein ja/tai suoritetaan raportointi vasta kun tarpeeksi monta samaa virhettä esiintynyt määritellyssä ajassa.\n\nParametrit:\n- Recipients: vastaanottajat, puolipistein eroteltu\n- Id: virheen/prosessin tunniste\n- Subject: virheviestin otsikko\n- Message: virheviesti\n- ExecutionId: Pääprosessin suorittaman instanssin Id (suorituslinkin rakennusta varten)\n- LogMessage: Tarkempi virhekuvaus / stacktrace, käytetään vain mahdolliseen lokitukseen\n- ErrorSettingsJson: Raportointiasetukset (mm. mute timespan, error threshold)\n\nPalauttaa informatiivisen tekstin, jossa seuraavat osat pilkulla eroteltuina:\n- Id = virheen/kutsujan tunniste\n- Alerted = true/false, suoritettiinko raportointia\n- Type = lisätieto raportoinnin suorittamisesta / ohituksesta ja syystä",
			"Version": 9,
			"UniqueIdentifier": "558464be-ce52-479a-990c-65b6f1f6ad6e",
			"GraphJson": "",
			"Bpmn": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:bioc=\"http://bpmn.io/schema/bpmn/biocolor/1.0\" id=\"sample-diagram\" targetNamespace=\"http://bpmn.io/schema/bpmn\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\"><bpmn2:process id=\"Process_1\" isExecutable=\"false\"><bpmn2:startEvent id=\"StartEvent_1\" name=\"Manual\"><bpmn2:outgoing>SequenceFlow_0un63ep</bpmn2:outgoing></bpmn2:startEvent><bpmn2:subProcess id=\"SubProcess_1ljq5dl\" name=\"Main scope\"><bpmn2:incoming>Flow_0zfwk19</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_073ultq</bpmn2:outgoing><bpmn2:outgoing>SequenceFlow_1dvlgoo</bpmn2:outgoing><bpmn2:startEvent id=\"StartEvent_1skgjsa\"><bpmn2:outgoing>SequenceFlow_1pbdb9i</bpmn2:outgoing></bpmn2:startEvent><bpmn2:endEvent id=\"EndEvent_0zs7v2r\"><bpmn2:incoming>Flow_1swcign</bpmn2:incoming><bpmn2:incoming>Flow_0mupeop</bpmn2:incoming></bpmn2:endEvent><bpmn2:exclusiveGateway id=\"ExclusiveGateway_1gmux2j\" name=\"Id found?\" default=\"SequenceFlow_0semj4j\"><bpmn2:incoming>Flow_1ayfplg</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_00cpskj</bpmn2:outgoing><bpmn2:outgoing>SequenceFlow_0semj4j</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:exclusiveGateway id=\"ExclusiveGateway_1vgn3v1\" name=\"Mute timespan exceeded?\" default=\"SequenceFlow_0xazr5m\"><bpmn2:incoming>SequenceFlow_11llk6n</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_0xazr5m</bpmn2:outgoing><bpmn2:outgoing>SequenceFlow_0pmumv8</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:scriptTask id=\"ScriptTask_0i9f9ml\" name=\"Seconds since last Alarm\"><bpmn2:incoming>SequenceFlow_06cnrkp</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_0yz3qoo</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:scriptTask id=\"ScriptTask_0ifgu6l\" name=\"Init alerted false\"><bpmn2:incoming>SequenceFlow_1pbdb9i</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_0y4i0q4</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:scriptTask id=\"ScriptTask_0n0l6qm\" name=\"Init seconds variable\"><bpmn2:incoming>SequenceFlow_0y4i0q4</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_18bopvd</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:scriptTask id=\"ScriptTask_17kvydy\" name=\"Alerted variable = true 1\"><bpmn2:incoming>SequenceFlow_00kcwrn</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_1btg3m9</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:exclusiveGateway id=\"ExclusiveGateway_1f33hj1\" name=\"Send Email?\" default=\"Flow_1swcign\"><bpmn2:incoming>Flow_1do7a5u</bpmn2:incoming><bpmn2:outgoing>Flow_1swcign</bpmn2:outgoing><bpmn2:outgoing>Flow_0rizs8u</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id=\"SequenceFlow_00cpskj\" name=\"yes\" sourceRef=\"ExclusiveGateway_1gmux2j\" targetRef=\"Activity_1sdft92\" /><bpmn2:sequenceFlow id=\"SequenceFlow_0semj4j\" name=\"no\" sourceRef=\"ExclusiveGateway_1gmux2j\" targetRef=\"ExclusiveGateway_1j5fd8y\" /><bpmn2:sequenceFlow id=\"SequenceFlow_0y4i0q4\" sourceRef=\"ScriptTask_0ifgu6l\" targetRef=\"ScriptTask_0n0l6qm\" /><bpmn2:sequenceFlow id=\"SequenceFlow_1btg3m9\" sourceRef=\"ScriptTask_17kvydy\" targetRef=\"Activity_1ykjzk3\" /><bpmn2:sequenceFlow id=\"SequenceFlow_1pbdb9i\" sourceRef=\"StartEvent_1skgjsa\" targetRef=\"ScriptTask_0ifgu6l\" /><bpmn2:exclusiveGateway id=\"ExclusiveGateway_0pcx5uh\" name=\"Threshold EXCEEDED (OR not set when defaults to 0)?\" default=\"SequenceFlow_05u83q2\"><bpmn2:incoming>SequenceFlow_1o5a7o5</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_11llk6n</bpmn2:outgoing><bpmn2:outgoing>SequenceFlow_05u83q2</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:scriptTask id=\"ScriptTask_0xii2tt\" name=\"Alerted variable = true 2\"><bpmn2:incoming>SequenceFlow_02cuyxj</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_0i1xel3</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"SequenceFlow_0xazr5m\" name=\"no\" sourceRef=\"ExclusiveGateway_1vgn3v1\" targetRef=\"Activity_1omki58\" /><bpmn2:scriptTask id=\"ScriptTask_14j9iaq\" name=\"Assign type 1\"><bpmn2:incoming>Flow_0l6t7xd</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_00kcwrn</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"SequenceFlow_00kcwrn\" sourceRef=\"ScriptTask_14j9iaq\" targetRef=\"ScriptTask_17kvydy\" /><bpmn2:scriptTask id=\"ScriptTask_0zr1ai2\" name=\"Assign type 2\"><bpmn2:incoming>Flow_1txa1u9</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_02cuyxj</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:scriptTask id=\"ScriptTask_0ernt58\" name=\"Assign type 4\"><bpmn2:incoming>Flow_1i6684s</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_18j93hm</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"SequenceFlow_18j93hm\" sourceRef=\"ScriptTask_0ernt58\" targetRef=\"Activity_1ykjzk3\" /><bpmn2:scriptTask id=\"ScriptTask_0asjsy5\" name=\"Assign type 5\"><bpmn2:incoming>Flow_12hpj6d</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_0293yuj</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"SequenceFlow_0293yuj\" sourceRef=\"ScriptTask_0asjsy5\" targetRef=\"Activity_1ykjzk3\" /><bpmn2:scriptTask id=\"ScriptTask_138zghn\" name=\"Assign type 3\"><bpmn2:incoming>Flow_1nvmuqb</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_0n7osct</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"SequenceFlow_0n7osct\" sourceRef=\"ScriptTask_138zghn\" targetRef=\"Activity_1ykjzk3\" /><bpmn2:scriptTask id=\"ScriptTask_0k06jl3\" name=\"Minutes since last Error\"><bpmn2:incoming>Flow_1g0i31z</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_06cnrkp</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:exclusiveGateway id=\"ExclusiveGateway_01z74ya\" name=\"Threshold function in use and ResetTime REACHED?\" default=\"SequenceFlow_1o5a7o5\"><bpmn2:incoming>SequenceFlow_0yz3qoo</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_12x1c7e</bpmn2:outgoing><bpmn2:outgoing>SequenceFlow_1o5a7o5</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id=\"SequenceFlow_12x1c7e\" name=\"yes\" sourceRef=\"ExclusiveGateway_01z74ya\" targetRef=\"Activity_0q4pds2\" /><bpmn2:sequenceFlow id=\"SequenceFlow_1o5a7o5\" name=\"no\" sourceRef=\"ExclusiveGateway_01z74ya\" targetRef=\"ExclusiveGateway_0pcx5uh\" /><bpmn2:sequenceFlow id=\"SequenceFlow_06cnrkp\" sourceRef=\"ScriptTask_0k06jl3\" targetRef=\"ScriptTask_0i9f9ml\" /><bpmn2:sequenceFlow id=\"SequenceFlow_0yz3qoo\" sourceRef=\"ScriptTask_0i9f9ml\" targetRef=\"ExclusiveGateway_01z74ya\" /><bpmn2:sequenceFlow id=\"SequenceFlow_11llk6n\" name=\"yes\" sourceRef=\"ExclusiveGateway_0pcx5uh\" targetRef=\"ExclusiveGateway_1vgn3v1\" /><bpmn2:sequenceFlow id=\"SequenceFlow_02cuyxj\" sourceRef=\"ScriptTask_0zr1ai2\" targetRef=\"ScriptTask_0xii2tt\" /><bpmn2:sequenceFlow id=\"SequenceFlow_0i1xel3\" sourceRef=\"ScriptTask_0xii2tt\" targetRef=\"Activity_1ykjzk3\" /><bpmn2:sequenceFlow id=\"SequenceFlow_05u83q2\" name=\"no\" sourceRef=\"ExclusiveGateway_0pcx5uh\" targetRef=\"Activity_1s1fmg0\" /><bpmn2:sequenceFlow id=\"SequenceFlow_0pmumv8\" name=\"yes\" sourceRef=\"ExclusiveGateway_1vgn3v1\" targetRef=\"Activity_1y30yub\" /><bpmn2:exclusiveGateway id=\"ExclusiveGateway_1j5fd8y\" name=\"Threshold SET and NOT reached?\" default=\"SequenceFlow_0qpsntk\"><bpmn2:incoming>SequenceFlow_0semj4j</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_0qpsntk</bpmn2:outgoing><bpmn2:outgoing>SequenceFlow_188s2kz</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:scriptTask id=\"ScriptTask_1usvszs\" name=\"Assign type 6\"><bpmn2:incoming>Flow_090jyz1</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_1txwhkn</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"SequenceFlow_0qpsntk\" name=\"no\" sourceRef=\"ExclusiveGateway_1j5fd8y\" targetRef=\"Activity_0y8yrpz\" /><bpmn2:sequenceFlow id=\"SequenceFlow_1txwhkn\" sourceRef=\"ScriptTask_1usvszs\" targetRef=\"Activity_1ykjzk3\" /><bpmn2:sequenceFlow id=\"SequenceFlow_188s2kz\" name=\"yes\" sourceRef=\"ExclusiveGateway_1j5fd8y\" targetRef=\"Activity_1bvj2k5\" /><bpmn2:sequenceFlow id=\"SequenceFlow_18bopvd\" sourceRef=\"ScriptTask_0n0l6qm\" targetRef=\"Activity_0dqbz0b\" /><bpmn2:businessRuleTask id=\"Activity_0dqbz0b\" name=\"Get Key value\"><bpmn2:incoming>SequenceFlow_18bopvd</bpmn2:incoming><bpmn2:outgoing>Flow_1ayfplg</bpmn2:outgoing></bpmn2:businessRuleTask><bpmn2:businessRuleTask id=\"Activity_1bvj2k5\" name=\"Add: New with ErrorCounter = 1 (1)\"><bpmn2:incoming>SequenceFlow_188s2kz</bpmn2:incoming><bpmn2:outgoing>Flow_090jyz1</bpmn2:outgoing></bpmn2:businessRuleTask><bpmn2:businessRuleTask id=\"Activity_0y8yrpz\" name=\"Add: New with ErrorCounter = 1 (2)\"><bpmn2:incoming>SequenceFlow_0qpsntk</bpmn2:incoming><bpmn2:outgoing>Flow_0l6t7xd</bpmn2:outgoing></bpmn2:businessRuleTask><bpmn2:businessRuleTask id=\"Activity_0q4pds2\" name=\"Update: Reset ErrorCounter &#38; Update Error time\"><bpmn2:incoming>SequenceFlow_12x1c7e</bpmn2:incoming><bpmn2:outgoing>Flow_1nvmuqb</bpmn2:outgoing></bpmn2:businessRuleTask><bpmn2:businessRuleTask id=\"Activity_1omki58\" name=\"Update: Increment ErrorCounter &#38; Update Error time (1)\"><bpmn2:incoming>SequenceFlow_0xazr5m</bpmn2:incoming><bpmn2:outgoing>Flow_1i6684s</bpmn2:outgoing></bpmn2:businessRuleTask><bpmn2:businessRuleTask id=\"Activity_1y30yub\" name=\"Update: Increment ErrorCounter &#38; Update BOTH times\"><bpmn2:incoming>SequenceFlow_0pmumv8</bpmn2:incoming><bpmn2:outgoing>Flow_1txa1u9</bpmn2:outgoing></bpmn2:businessRuleTask><bpmn2:businessRuleTask id=\"Activity_1s1fmg0\" name=\"Update: Increment ErrorCounter &#38; Update Error time (2)\"><bpmn2:incoming>SequenceFlow_05u83q2</bpmn2:incoming><bpmn2:outgoing>Flow_12hpj6d</bpmn2:outgoing></bpmn2:businessRuleTask><bpmn2:sequenceFlow id=\"Flow_1nvmuqb\" sourceRef=\"Activity_0q4pds2\" targetRef=\"ScriptTask_138zghn\" /><bpmn2:sequenceFlow id=\"Flow_1i6684s\" sourceRef=\"Activity_1omki58\" targetRef=\"ScriptTask_0ernt58\" /><bpmn2:sequenceFlow id=\"Flow_1txa1u9\" sourceRef=\"Activity_1y30yub\" targetRef=\"ScriptTask_0zr1ai2\" /><bpmn2:sequenceFlow id=\"Flow_12hpj6d\" sourceRef=\"Activity_1s1fmg0\" targetRef=\"ScriptTask_0asjsy5\" /><bpmn2:sequenceFlow id=\"Flow_0l6t7xd\" sourceRef=\"Activity_0y8yrpz\" targetRef=\"ScriptTask_14j9iaq\" /><bpmn2:sequenceFlow id=\"Flow_090jyz1\" sourceRef=\"Activity_1bvj2k5\" targetRef=\"ScriptTask_1usvszs\" /><bpmn2:scriptTask id=\"Activity_1sdft92\" name=\"Assign errorKeyValue\"><bpmn2:incoming>SequenceFlow_00cpskj</bpmn2:incoming><bpmn2:outgoing>Flow_1g0i31z</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"Flow_1g0i31z\" sourceRef=\"Activity_1sdft92\" targetRef=\"ScriptTask_0k06jl3\" /><bpmn2:sequenceFlow id=\"Flow_1ayfplg\" sourceRef=\"Activity_0dqbz0b\" targetRef=\"ExclusiveGateway_1gmux2j\" /><bpmn2:scriptTask id=\"Activity_1ykjzk3\" name=\"Assign emailMsg\"><bpmn2:incoming>SequenceFlow_18j93hm</bpmn2:incoming><bpmn2:incoming>SequenceFlow_0293yuj</bpmn2:incoming><bpmn2:incoming>SequenceFlow_0n7osct</bpmn2:incoming><bpmn2:incoming>SequenceFlow_0i1xel3</bpmn2:incoming><bpmn2:incoming>SequenceFlow_1btg3m9</bpmn2:incoming><bpmn2:incoming>SequenceFlow_1txwhkn</bpmn2:incoming><bpmn2:outgoing>Flow_1do7a5u</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"Flow_1do7a5u\" sourceRef=\"Activity_1ykjzk3\" targetRef=\"ExclusiveGateway_1f33hj1\" /><bpmn2:sequenceFlow id=\"Flow_1swcign\" name=\"no\" sourceRef=\"ExclusiveGateway_1f33hj1\" targetRef=\"EndEvent_0zs7v2r\" /><bpmn2:sequenceFlow id=\"Flow_0rizs8u\" name=\"yes\" sourceRef=\"ExclusiveGateway_1f33hj1\" targetRef=\"Activity_0ji5w0f\" /><bpmn2:task id=\"Activity_0ji5w0f\" name=\"Send Email\"><bpmn2:incoming>Flow_0rizs8u</bpmn2:incoming><bpmn2:outgoing>Flow_0mupeop</bpmn2:outgoing></bpmn2:task><bpmn2:sequenceFlow id=\"Flow_0mupeop\" sourceRef=\"Activity_0ji5w0f\" targetRef=\"EndEvent_0zs7v2r\" /><bpmn2:textAnnotation id=\"TextAnnotation_0ix1gxe\"><bpmn2:text>Asetetaan eri teksti riippuen johtuuko hälytys vain timespan-ylityksestä vai mahdollisesti myös threshold-ylityksestä\n\nTimespan exceeded /\nTimespan and/or threshold exceeded</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_1ax23k4\" sourceRef=\"ScriptTask_0zr1ai2\" targetRef=\"TextAnnotation_0ix1gxe\" /><bpmn2:textAnnotation id=\"TextAnnotation_0sw91t1\"><bpmn2:text>Maililähetys, jos ehdot täyttyvät\n1. Raportointi halutaan tehdä (päättely parametrien ja aikaisempien hälytysten pohjalta)\n2. Enabled-parametrit (json-settingseistä) on arvolla true (tai ei määritelty, jolloin true)\n3. Viestillä on vastaanottaja(t) (sähköpostiosoite)</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_0yr61s5\" sourceRef=\"ExclusiveGateway_1f33hj1\" targetRef=\"TextAnnotation_0sw91t1\" /><bpmn2:textAnnotation id=\"TextAnnotation_1a9sd91\"><bpmn2:text>Lasketaan ajat\n- minuutteina edellisestä virheestä (josta raportoitu tai ei)\n- sekunteina edellisestä raportoinnista</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_0ufhmfo\" sourceRef=\"ScriptTask_0k06jl3\" targetRef=\"TextAnnotation_1a9sd91\" /><bpmn2:association id=\"Association_1syccmq\" sourceRef=\"ScriptTask_0i9f9ml\" targetRef=\"TextAnnotation_1a9sd91\" /><bpmn2:textAnnotation id=\"TextAnnotation_1y1yj1m\"><bpmn2:text>Threshold not reached</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_1j27o38\" sourceRef=\"ScriptTask_0asjsy5\" targetRef=\"TextAnnotation_1y1yj1m\" /><bpmn2:textAnnotation id=\"TextAnnotation_0nkm6pi\"><bpmn2:text>Muted</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_1cks1ng\" sourceRef=\"ScriptTask_0ernt58\" targetRef=\"TextAnnotation_0nkm6pi\" /><bpmn2:textAnnotation id=\"TextAnnotation_13do5j5\"><bpmn2:text>Threshold reset</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_0n48le6\" sourceRef=\"ScriptTask_138zghn\" targetRef=\"TextAnnotation_13do5j5\" /><bpmn2:textAnnotation id=\"TextAnnotation_0510ql4\"><bpmn2:text>First Alert</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_101xjgj\" sourceRef=\"ScriptTask_14j9iaq\" targetRef=\"TextAnnotation_0510ql4\" /><bpmn2:textAnnotation id=\"TextAnnotation_13xynl2\"><bpmn2:text>Threshold not reached</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_0jz4kvp\" sourceRef=\"ScriptTask_1usvszs\" targetRef=\"TextAnnotation_13xynl2\" /><bpmn2:textAnnotation id=\"TextAnnotation_0r60p1f\"><bpmn2:text>Ensimmäinen virhe ID:lle -&gt;\nJos Virhe raja-arvo (ThresholdCount) yli 1 -&gt; Ei vielä raportointia (AlertTime menneisyyteen jotta myöhemmin voidaan tehdä tulkintaa tämän pohjalta oikein)</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_1knxoag\" sourceRef=\"ExclusiveGateway_1j5fd8y\" targetRef=\"TextAnnotation_0r60p1f\" /><bpmn2:textAnnotation id=\"TextAnnotation_0lp9lq9\"><bpmn2:text>Nähdään viesti vaikka sitä ei lähetettäisi.\n\nTODO: Korvaa kovakoodattu demo.frendsapp-linkki</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_158zesu\" sourceRef=\"Activity_1ykjzk3\" targetRef=\"TextAnnotation_0lp9lq9\" /><bpmn2:association id=\"Association_0k2rtf9\" sourceRef=\"Activity_0ji5w0f\" targetRef=\"TextAnnotation_134279v\" /></bpmn2:subProcess><bpmn2:sequenceFlow id=\"SequenceFlow_0un63ep\" sourceRef=\"StartEvent_1\" targetRef=\"Gateway_1quts36\" /><bpmn2:intermediateCatchEvent id=\"IntermediateCatchEvent_14zs319\"><bpmn2:incoming>SequenceFlow_073ultq</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_1911jcl</bpmn2:outgoing><bpmn2:signalEventDefinition /></bpmn2:intermediateCatchEvent><bpmn2:sequenceFlow id=\"SequenceFlow_073ultq\" sourceRef=\"SubProcess_1ljq5dl\" targetRef=\"IntermediateCatchEvent_14zs319\" /><bpmn2:subProcess id=\"SubProcess_1xtotsc\" name=\"Error scope\"><bpmn2:incoming>SequenceFlow_1911jcl</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_0y8eemz</bpmn2:outgoing><bpmn2:startEvent id=\"StartEvent_01p1myu\"><bpmn2:outgoing>SequenceFlow_0dhbxg4</bpmn2:outgoing></bpmn2:startEvent><bpmn2:endEvent id=\"EndEvent_12cy8nc\"><bpmn2:incoming>SequenceFlow_0dhbxg4</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id=\"SequenceFlow_0dhbxg4\" sourceRef=\"StartEvent_01p1myu\" targetRef=\"EndEvent_12cy8nc\" /></bpmn2:subProcess><bpmn2:sequenceFlow id=\"SequenceFlow_1911jcl\" sourceRef=\"IntermediateCatchEvent_14zs319\" targetRef=\"SubProcess_1xtotsc\" /><bpmn2:endEvent id=\"EndEvent_0itz2t3\"><bpmn2:incoming>SequenceFlow_1dvlgoo</bpmn2:incoming><bpmn2:incoming>SequenceFlow_0y8eemz</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id=\"SequenceFlow_1dvlgoo\" sourceRef=\"SubProcess_1ljq5dl\" targetRef=\"EndEvent_0itz2t3\" /><bpmn2:sequenceFlow id=\"SequenceFlow_0y8eemz\" sourceRef=\"SubProcess_1xtotsc\" targetRef=\"EndEvent_0itz2t3\" /><bpmn2:scriptTask id=\"ScriptTask_06f5jnt\" name=\"Init type\"><bpmn2:incoming>Flow_1749yi0</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_1au697x</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"SequenceFlow_1au697x\" sourceRef=\"ScriptTask_06f5jnt\" targetRef=\"Activity_1s9e97g\" /><bpmn2:scriptTask id=\"Activity_1s9e97g\" name=\"Assign id\"><bpmn2:incoming>SequenceFlow_1au697x</bpmn2:incoming><bpmn2:outgoing>Flow_0zfwk19</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"Flow_0zfwk19\" sourceRef=\"Activity_1s9e97g\" targetRef=\"SubProcess_1ljq5dl\" /><bpmn2:scriptTask id=\"Activity_05m0e8c\" name=\"Parse parameters &#38; Set defaults\"><bpmn2:incoming>Flow_1gtqp7q</bpmn2:incoming><bpmn2:outgoing>Flow_1749yi0</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"Flow_1749yi0\" sourceRef=\"Activity_05m0e8c\" targetRef=\"ScriptTask_06f5jnt\" /><bpmn2:exclusiveGateway id=\"Gateway_1quts36\" name=\"Id given &#38; valid?\" default=\"Flow_07zub2x\"><bpmn2:incoming>SequenceFlow_0un63ep</bpmn2:incoming><bpmn2:outgoing>Flow_1gtqp7q</bpmn2:outgoing><bpmn2:outgoing>Flow_07zub2x</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id=\"Flow_1gtqp7q\" name=\"yes\" sourceRef=\"Gateway_1quts36\" targetRef=\"Activity_05m0e8c\" /><bpmn2:intermediateThrowEvent id=\"Event_0et4uta\"><bpmn2:incoming>Flow_07zub2x</bpmn2:incoming><bpmn2:signalEventDefinition /></bpmn2:intermediateThrowEvent><bpmn2:sequenceFlow id=\"Flow_07zub2x\" name=\"no\" sourceRef=\"Gateway_1quts36\" targetRef=\"Event_0et4uta\" /><bpmn2:textAnnotation id=\"TextAnnotation_134279v\"><bpmn2:text>TODO:\nEnnen tuotantokäyttöä luo ympäristömuuttujat, aseta niihin arvot ja muuta tämä taski käyttämään ympäristömuuttujia:\n\n#env.Reporting.EmailFrom = lähettäjän sähköpostiosoite\n#env.Reporting.EmailSenderName = lähettäjän nimi\n#env.Reporting.SmtpServer = SMTP-palvelimen osoite\n#env.Reporting.SmtpUsername = SMTP-käyttäjätunnus, jolla ei ole MFA käytössä\n#env.Reporting.SmtpPassword = SMTP-käyttäjätunnuksen salasana\n\nHalutessasi voit käyttää uudempaa Frends.SMTP.SendEmail -taskia, joka targetoi .Net 6 / .Net 8:\nhttps://tasks.frends.com/tasks/Frends-SMTP-SendEmail/</bpmn2:text></bpmn2:textAnnotation><bpmn2:textAnnotation id=\"TextAnnotation_0rd58e2\"><bpmn2:text>TODO:\n\nTarvittaessa ennen tuotantokäyttöä luo seuraavat ympäristömuuttujat ja ota käyttöön oletusarvoiksi:\n\nRecipients: {{#env.Reporting.EmailTo_Default}}\nErrorSettingsJson: {{#env.Reporting.ErrorSettings_Default}}</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_1o565cd\" sourceRef=\"StartEvent_1\" targetRef=\"TextAnnotation_0rd58e2\" /></bpmn2:process><bpmndi:BPMNDiagram id=\"BPMNDiagram_1\"><bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Process_1\"><bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_2\" bpmnElement=\"StartEvent_1\"><dc:Bounds x=\"-758\" y=\"446\" width=\"36\" height=\"36\" /><bpmndi:BPMNLabel><dc:Bounds x=\"-759\" y=\"490\" width=\"37\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"SubProcess_1ljq5dl_di\" bpmnElement=\"SubProcess_1ljq5dl\" isExpanded=\"true\"><dc:Bounds x=\"-144\" y=\"50\" width=\"1874\" height=\"820\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"StartEvent_1skgjsa_di\" bpmnElement=\"StartEvent_1skgjsa\"><dc:Bounds x=\"-108\" y=\"234\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"EndEvent_0zs7v2r_di\" bpmnElement=\"EndEvent_0zs7v2r\"><dc:Bounds x=\"1662\" y=\"234\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ExclusiveGateway_1gmux2j_di\" bpmnElement=\"ExclusiveGateway_1gmux2j\" isMarkerVisible=\"true\"><dc:Bounds x=\"305\" y=\"227\" width=\"50\" height=\"50\" /><bpmndi:BPMNLabel><dc:Bounds x=\"307\" y=\"203\" width=\"47\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ExclusiveGateway_1vgn3v1_di\" bpmnElement=\"ExclusiveGateway_1vgn3v1\" isMarkerVisible=\"true\"><dc:Bounds x=\"775\" y=\"514\" width=\"50\" height=\"50\" /><bpmndi:BPMNLabel><dc:Bounds x=\"763\" y=\"477\" width=\"73\" height=\"27\" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_0i9f9ml_di\" bpmnElement=\"ScriptTask_0i9f9ml\"><dc:Bounds x=\"541\" y=\"380\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_0ifgu6l_di\" bpmnElement=\"ScriptTask_0ifgu6l\"><dc:Bounds x=\"-24\" y=\"237\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_0n0l6qm_di\" bpmnElement=\"ScriptTask_0n0l6qm\"><dc:Bounds x=\"74\" y=\"237\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_17kvydy_di\" bpmnElement=\"ScriptTask_17kvydy\" bioc:fill=\"#9400d380\"><dc:Bounds x=\"1220\" y=\"237\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ExclusiveGateway_1f33hj1_di\" bpmnElement=\"ExclusiveGateway_1f33hj1\" isMarkerVisible=\"true\"><dc:Bounds x=\"1455\" y=\"227\" width=\"50\" height=\"50\" /><bpmndi:BPMNLabel><dc:Bounds x=\"1406\" y=\"219\" width=\"63\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ExclusiveGateway_0pcx5uh_di\" bpmnElement=\"ExclusiveGateway_0pcx5uh\" isMarkerVisible=\"true\"><dc:Bounds x=\"642\" y=\"514\" width=\"50\" height=\"50\" /><bpmndi:BPMNLabel><dc:Bounds x=\"550\" y=\"519\" width=\"85\" height=\"53\" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_0xii2tt_di\" bpmnElement=\"ScriptTask_0xii2tt\" bioc:fill=\"#9400d380\"><dc:Bounds x=\"1220\" y=\"654\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_14j9iaq_di\" bpmnElement=\"ScriptTask_14j9iaq\"><dc:Bounds x=\"1096\" y=\"237\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_0zr1ai2_di\" bpmnElement=\"ScriptTask_0zr1ai2\"><dc:Bounds x=\"1096\" y=\"654\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_0ernt58_di\" bpmnElement=\"ScriptTask_0ernt58\"><dc:Bounds x=\"1096\" y=\"524\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_0asjsy5_di\" bpmnElement=\"ScriptTask_0asjsy5\"><dc:Bounds x=\"1096\" y=\"779\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_138zghn_di\" bpmnElement=\"ScriptTask_138zghn\"><dc:Bounds x=\"1096\" y=\"380\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_0k06jl3_di\" bpmnElement=\"ScriptTask_0k06jl3\"><dc:Bounds x=\"437\" y=\"380\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ExclusiveGateway_01z74ya_di\" bpmnElement=\"ExclusiveGateway_01z74ya\" isMarkerVisible=\"true\"><dc:Bounds x=\"642\" y=\"370\" width=\"50\" height=\"50\" /><bpmndi:BPMNLabel><dc:Bounds x=\"633\" y=\"313\" width=\"75\" height=\"53\" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ExclusiveGateway_1j5fd8y_di\" bpmnElement=\"ExclusiveGateway_1j5fd8y\" isMarkerVisible=\"true\"><dc:Bounds x=\"427\" y=\"227\" width=\"50\" height=\"50\" /><bpmndi:BPMNLabel><dc:Bounds x=\"413\" y=\"280\" width=\"73\" height=\"40\" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_1usvszs_di\" bpmnElement=\"ScriptTask_1usvszs\"><dc:Bounds x=\"1096\" y=\"115\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_0dqbz0b_di\" bpmnElement=\"Activity_0dqbz0b\"><dc:Bounds x=\"160\" y=\"212\" width=\"100\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_1bvj2k5_di\" bpmnElement=\"Activity_1bvj2k5\"><dc:Bounds x=\"890\" y=\"90\" width=\"100\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_0y8yrpz_di\" bpmnElement=\"Activity_0y8yrpz\"><dc:Bounds x=\"890\" y=\"212\" width=\"100\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_0q4pds2_di\" bpmnElement=\"Activity_0q4pds2\"><dc:Bounds x=\"890\" y=\"355\" width=\"100\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_1omki58_di\" bpmnElement=\"Activity_1omki58\"><dc:Bounds x=\"890\" y=\"499\" width=\"100\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_1y30yub_di\" bpmnElement=\"Activity_1y30yub\"><dc:Bounds x=\"890\" y=\"629\" width=\"100\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_1s1fmg0_di\" bpmnElement=\"Activity_1s1fmg0\"><dc:Bounds x=\"890\" y=\"754\" width=\"100\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_1sdft92_di\" bpmnElement=\"Activity_1sdft92\"><dc:Bounds x=\"315\" y=\"380\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_1ykjzk3_di\" bpmnElement=\"Activity_1ykjzk3\"><dc:Bounds x=\"1375\" y=\"237\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_0ix1gxe_di\" bpmnElement=\"TextAnnotation_0ix1gxe\"><dc:Bounds x=\"1180\" y=\"550\" width=\"221\" height=\"112\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_0sw91t1_di\" bpmnElement=\"TextAnnotation_0sw91t1\"><dc:Bounds x=\"1460\" y=\"310\" width=\"251.99010327022378\" height=\"127.35652431153184\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_1a9sd91_di\" bpmnElement=\"TextAnnotation_1a9sd91\"><dc:Bounds x=\"320\" y=\"460\" width=\"221\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_1y1yj1m_di\" bpmnElement=\"TextAnnotation_1y1yj1m\"><dc:Bounds x=\"1050\" y=\"730\" width=\"139\" height=\"31\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_0nkm6pi_di\" bpmnElement=\"TextAnnotation_0nkm6pi\"><dc:Bounds x=\"1080\" y=\"470\" width=\"60\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_13do5j5_di\" bpmnElement=\"TextAnnotation_13do5j5\"><dc:Bounds x=\"1060\" y=\"320\" width=\"100\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_0510ql4_di\" bpmnElement=\"TextAnnotation_0510ql4\"><dc:Bounds x=\"1061\" y=\"190\" width=\"100\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_13xynl2_di\" bpmnElement=\"TextAnnotation_13xynl2\"><dc:Bounds x=\"1046\" y=\"70\" width=\"130\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_0r60p1f_di\" bpmnElement=\"TextAnnotation_0r60p1f\"><dc:Bounds x=\"530\" y=\"145\" width=\"280\" height=\"89\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_0lp9lq9_di\" bpmnElement=\"TextAnnotation_0lp9lq9\"><dc:Bounds x=\"1300\" y=\"70\" width=\"139.9924089068826\" height=\"98.51551956815115\" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_0ji5w0f_di\" bpmnElement=\"Activity_0ji5w0f\"><dc:Bounds x=\"1536\" y=\"212\" width=\"100\" height=\"80\" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\"Association_0k2rtf9_di\" bpmnElement=\"Association_0k2rtf9\"><di:waypoint x=\"1636\" y=\"229\" /><di:waypoint x=\"1770\" y=\"145\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_00cpskj_di\" bpmnElement=\"SequenceFlow_00cpskj\"><di:waypoint x=\"330\" y=\"277\" /><di:waypoint x=\"330\" y=\"380\" /><bpmndi:BPMNLabel><dc:Bounds x=\"336\" y=\"303\" width=\"17\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0semj4j_di\" bpmnElement=\"SequenceFlow_0semj4j\"><di:waypoint x=\"355\" y=\"252\" /><di:waypoint x=\"427\" y=\"252\" /><bpmndi:BPMNLabel><dc:Bounds x=\"388\" y=\"228\" width=\"13\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0y4i0q4_di\" bpmnElement=\"SequenceFlow_0y4i0q4\"><di:waypoint x=\"6\" y=\"252\" /><di:waypoint x=\"74\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_1btg3m9_di\" bpmnElement=\"SequenceFlow_1btg3m9\"><di:waypoint x=\"1250\" y=\"252\" /><di:waypoint x=\"1375\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_1pbdb9i_di\" bpmnElement=\"SequenceFlow_1pbdb9i\"><di:waypoint x=\"-72\" y=\"252\" /><di:waypoint x=\"-24\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0xazr5m_di\" bpmnElement=\"SequenceFlow_0xazr5m\"><di:waypoint x=\"825\" y=\"539\" /><di:waypoint x=\"890\" y=\"539\" /><bpmndi:BPMNLabel><dc:Bounds x=\"846\" y=\"520\" width=\"13\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_00kcwrn_di\" bpmnElement=\"SequenceFlow_00kcwrn\"><di:waypoint x=\"1126\" y=\"252\" /><di:waypoint x=\"1220\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_18j93hm_di\" bpmnElement=\"SequenceFlow_18j93hm\"><di:waypoint x=\"1126\" y=\"539\" /><di:waypoint x=\"1390\" y=\"539\" /><di:waypoint x=\"1390\" y=\"267\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0293yuj_di\" bpmnElement=\"SequenceFlow_0293yuj\"><di:waypoint x=\"1126\" y=\"794\" /><di:waypoint x=\"1390\" y=\"794\" /><di:waypoint x=\"1390\" y=\"267\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0n7osct_di\" bpmnElement=\"SequenceFlow_0n7osct\"><di:waypoint x=\"1126\" y=\"395\" /><di:waypoint x=\"1390\" y=\"395\" /><di:waypoint x=\"1390\" y=\"267\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_12x1c7e_di\" bpmnElement=\"SequenceFlow_12x1c7e\"><di:waypoint x=\"692\" y=\"395\" /><di:waypoint x=\"890\" y=\"395\" /><bpmndi:BPMNLabel><dc:Bounds x=\"713\" y=\"377\" width=\"17\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_1o5a7o5_di\" bpmnElement=\"SequenceFlow_1o5a7o5\"><di:waypoint x=\"667\" y=\"420\" /><di:waypoint x=\"667\" y=\"514\" /><bpmndi:BPMNLabel><dc:Bounds x=\"647\" y=\"433\" width=\"13\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_06cnrkp_di\" bpmnElement=\"SequenceFlow_06cnrkp\"><di:waypoint x=\"467\" y=\"395\" /><di:waypoint x=\"541\" y=\"395\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0yz3qoo_di\" bpmnElement=\"SequenceFlow_0yz3qoo\"><di:waypoint x=\"571\" y=\"395\" /><di:waypoint x=\"642\" y=\"395\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_11llk6n_di\" bpmnElement=\"SequenceFlow_11llk6n\"><di:waypoint x=\"692\" y=\"539\" /><di:waypoint x=\"775\" y=\"539\" /><bpmndi:BPMNLabel><dc:Bounds x=\"726\" y=\"521\" width=\"17\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_02cuyxj_di\" bpmnElement=\"SequenceFlow_02cuyxj\"><di:waypoint x=\"1126\" y=\"669\" /><di:waypoint x=\"1220\" y=\"669\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0i1xel3_di\" bpmnElement=\"SequenceFlow_0i1xel3\"><di:waypoint x=\"1250\" y=\"669\" /><di:waypoint x=\"1390\" y=\"669\" /><di:waypoint x=\"1390\" y=\"267\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_05u83q2_di\" bpmnElement=\"SequenceFlow_05u83q2\"><di:waypoint x=\"667\" y=\"564\" /><di:waypoint x=\"667\" y=\"794\" /><di:waypoint x=\"890\" y=\"794\" /><bpmndi:BPMNLabel><dc:Bounds x=\"676\" y=\"613\" width=\"13\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0pmumv8_di\" bpmnElement=\"SequenceFlow_0pmumv8\"><di:waypoint x=\"800\" y=\"564\" /><di:waypoint x=\"800\" y=\"669\" /><di:waypoint x=\"890\" y=\"669\" /><bpmndi:BPMNLabel><dc:Bounds x=\"807\" y=\"616\" width=\"17\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0qpsntk_di\" bpmnElement=\"SequenceFlow_0qpsntk\"><di:waypoint x=\"477\" y=\"252\" /><di:waypoint x=\"890\" y=\"252\" /><bpmndi:BPMNLabel><dc:Bounds x=\"503\" y=\"233\" width=\"13\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_1txwhkn_di\" bpmnElement=\"SequenceFlow_1txwhkn\"><di:waypoint x=\"1126\" y=\"130\" /><di:waypoint x=\"1275\" y=\"130\" /><di:waypoint x=\"1275\" y=\"252\" /><di:waypoint x=\"1375\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_188s2kz_di\" bpmnElement=\"SequenceFlow_188s2kz\"><di:waypoint x=\"452\" y=\"227\" /><di:waypoint x=\"452\" y=\"130\" /><di:waypoint x=\"890\" y=\"130\" /><bpmndi:BPMNLabel><dc:Bounds x=\"501\" y=\"107\" width=\"17\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_18bopvd_di\" bpmnElement=\"SequenceFlow_18bopvd\"><di:waypoint x=\"104\" y=\"252\" /><di:waypoint x=\"160\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1nvmuqb_di\" bpmnElement=\"Flow_1nvmuqb\"><di:waypoint x=\"990\" y=\"395\" /><di:waypoint x=\"1096\" y=\"395\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1i6684s_di\" bpmnElement=\"Flow_1i6684s\"><di:waypoint x=\"990\" y=\"539\" /><di:waypoint x=\"1096\" y=\"539\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1txa1u9_di\" bpmnElement=\"Flow_1txa1u9\"><di:waypoint x=\"990\" y=\"669\" /><di:waypoint x=\"1096\" y=\"669\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_12hpj6d_di\" bpmnElement=\"Flow_12hpj6d\"><di:waypoint x=\"990\" y=\"794\" /><di:waypoint x=\"1096\" y=\"794\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_0l6t7xd_di\" bpmnElement=\"Flow_0l6t7xd\"><di:waypoint x=\"990\" y=\"252\" /><di:waypoint x=\"1096\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_090jyz1_di\" bpmnElement=\"Flow_090jyz1\"><di:waypoint x=\"990\" y=\"130\" /><di:waypoint x=\"1096\" y=\"130\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1g0i31z_di\" bpmnElement=\"Flow_1g0i31z\"><di:waypoint x=\"345\" y=\"395\" /><di:waypoint x=\"437\" y=\"395\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1ayfplg_di\" bpmnElement=\"Flow_1ayfplg\"><di:waypoint x=\"260\" y=\"252\" /><di:waypoint x=\"305\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1do7a5u_di\" bpmnElement=\"Flow_1do7a5u\"><di:waypoint x=\"1405\" y=\"252\" /><di:waypoint x=\"1455\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1swcign_di\" bpmnElement=\"Flow_1swcign\"><di:waypoint x=\"1480\" y=\"227\" /><di:waypoint x=\"1480\" y=\"150\" /><di:waypoint x=\"1680\" y=\"150\" /><di:waypoint x=\"1680\" y=\"234\" /><bpmndi:BPMNLabel><dc:Bounds x=\"1513\" y=\"132\" width=\"13\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_0rizs8u_di\" bpmnElement=\"Flow_0rizs8u\"><di:waypoint x=\"1505\" y=\"252\" /><di:waypoint x=\"1536\" y=\"252\" /><bpmndi:BPMNLabel><dc:Bounds x=\"1511\" y=\"233\" width=\"17\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_1ax23k4_di\" bpmnElement=\"Association_1ax23k4\"><di:waypoint x=\"1126\" y=\"666\" /><di:waypoint x=\"1180\" y=\"646\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_0yr61s5_di\" bpmnElement=\"Association_0yr61s5\"><di:waypoint x=\"1478\" y=\"275\" /><di:waypoint x=\"1479\" y=\"310\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_0ufhmfo_di\" bpmnElement=\"Association_0ufhmfo\"><di:waypoint x=\"452\" y=\"410\" /><di:waypoint x=\"450\" y=\"460\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_1syccmq_di\" bpmnElement=\"Association_1syccmq\"><di:waypoint x=\"551\" y=\"410\" /><di:waypoint x=\"532\" y=\"460\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_1j27o38_di\" bpmnElement=\"Association_1j27o38\"><di:waypoint x=\"1113\" y=\"779\" /><di:waypoint x=\"1116\" y=\"761\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_1cks1ng_di\" bpmnElement=\"Association_1cks1ng\"><di:waypoint x=\"1111\" y=\"524\" /><di:waypoint x=\"1110\" y=\"500\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_0n48le6_di\" bpmnElement=\"Association_0n48le6\"><di:waypoint x=\"1111\" y=\"380\" /><di:waypoint x=\"1110\" y=\"350\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_101xjgj_di\" bpmnElement=\"Association_101xjgj\"><di:waypoint x=\"1111\" y=\"237\" /><di:waypoint x=\"1111\" y=\"220\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_0jz4kvp_di\" bpmnElement=\"Association_0jz4kvp\"><di:waypoint x=\"1112\" y=\"115\" /><di:waypoint x=\"1110\" y=\"100\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_1knxoag_di\" bpmnElement=\"Association_1knxoag\"><di:waypoint x=\"468\" y=\"243\" /><di:waypoint x=\"530\" y=\"201\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_158zesu_di\" bpmnElement=\"Association_158zesu\"><di:waypoint x=\"1388\" y=\"237\" /><di:waypoint x=\"1378\" y=\"169\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_0mupeop_di\" bpmnElement=\"Flow_0mupeop\"><di:waypoint x=\"1636\" y=\"252\" /><di:waypoint x=\"1662\" y=\"252\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\"IntermediateCatchEvent_14zs319_di\" bpmnElement=\"IntermediateCatchEvent_14zs319\" bioc:fill=\"#ff000080\"><dc:Bounds x=\"605\" y=\"962\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"SubProcess_1xtotsc_di\" bpmnElement=\"SubProcess_1xtotsc\" isExpanded=\"true\"><dc:Bounds x=\"710\" y=\"920\" width=\"170\" height=\"120\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"StartEvent_01p1myu_di\" bpmnElement=\"StartEvent_01p1myu\"><dc:Bounds x=\"742\" y=\"968\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"EndEvent_12cy8nc_di\" bpmnElement=\"EndEvent_12cy8nc\"><dc:Bounds x=\"819\" y=\"968\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\"SequenceFlow_0dhbxg4_di\" bpmnElement=\"SequenceFlow_0dhbxg4\"><di:waypoint x=\"778\" y=\"986\" /><di:waypoint x=\"819\" y=\"986\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\"EndEvent_0itz2t3_di\" bpmnElement=\"EndEvent_0itz2t3\"><dc:Bounds x=\"1792\" y=\"386\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"ScriptTask_06f5jnt_di\" bpmnElement=\"ScriptTask_06f5jnt\"><dc:Bounds x=\"-385\" y=\"449\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_1s9e97g_di\" bpmnElement=\"Activity_1s9e97g\"><dc:Bounds x=\"-265\" y=\"449\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_05m0e8c_di\" bpmnElement=\"Activity_05m0e8c\"><dc:Bounds x=\"-550\" y=\"424\" width=\"100\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Gateway_1quts36_di\" bpmnElement=\"Gateway_1quts36\" isMarkerVisible=\"true\"><dc:Bounds x=\"-665\" y=\"439\" width=\"50\" height=\"50\" /><bpmndi:BPMNLabel><dc:Bounds x=\"-679\" y=\"415\" width=\"81\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Event_0et4uta_di\" bpmnElement=\"Event_0et4uta\" bioc:fill=\"#ff000080\"><dc:Bounds x=\"-658\" y=\"566\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_134279v_di\" bpmnElement=\"TextAnnotation_134279v\"><dc:Bounds x=\"1770\" y=\"110\" width=\"529.9764890282131\" height=\"184.95297805642633\" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_0rd58e2_di\" bpmnElement=\"TextAnnotation_0rd58e2\"><dc:Bounds x=\"-790\" y=\"250\" width=\"340\" height=\"110\" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\"SequenceFlow_0un63ep_di\" bpmnElement=\"SequenceFlow_0un63ep\"><di:waypoint x=\"-722\" y=\"464\" /><di:waypoint x=\"-665\" y=\"464\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_073ultq_di\" bpmnElement=\"SequenceFlow_073ultq\"><di:waypoint x=\"623\" y=\"870\" /><di:waypoint x=\"623\" y=\"962\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_1911jcl_di\" bpmnElement=\"SequenceFlow_1911jcl\"><di:waypoint x=\"641\" y=\"980\" /><di:waypoint x=\"710\" y=\"980\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_1dvlgoo_di\" bpmnElement=\"SequenceFlow_1dvlgoo\"><di:waypoint x=\"1730\" y=\"404\" /><di:waypoint x=\"1792\" y=\"404\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_0y8eemz_di\" bpmnElement=\"SequenceFlow_0y8eemz\"><di:waypoint x=\"880\" y=\"980\" /><di:waypoint x=\"1810\" y=\"980\" /><di:waypoint x=\"1810\" y=\"422\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"SequenceFlow_1au697x_di\" bpmnElement=\"SequenceFlow_1au697x\"><di:waypoint x=\"-355\" y=\"464\" /><di:waypoint x=\"-265\" y=\"464\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_0zfwk19_di\" bpmnElement=\"Flow_0zfwk19\"><di:waypoint x=\"-235\" y=\"464\" /><di:waypoint x=\"-144\" y=\"464\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1749yi0_di\" bpmnElement=\"Flow_1749yi0\"><di:waypoint x=\"-450\" y=\"464\" /><di:waypoint x=\"-385\" y=\"464\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1gtqp7q_di\" bpmnElement=\"Flow_1gtqp7q\"><di:waypoint x=\"-615\" y=\"464\" /><di:waypoint x=\"-550\" y=\"464\" /><bpmndi:BPMNLabel><dc:Bounds x=\"-591\" y=\"446\" width=\"17\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_07zub2x_di\" bpmnElement=\"Flow_07zub2x\"><di:waypoint x=\"-640\" y=\"489\" /><di:waypoint x=\"-640\" y=\"566\" /><bpmndi:BPMNLabel><dc:Bounds x=\"-631\" y=\"504\" width=\"13\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_1o565cd_di\" bpmnElement=\"Association_1o565cd\"><di:waypoint x=\"-740\" y=\"446\" /><di:waypoint x=\"-740\" y=\"360\" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn2:definitions>",
			"ElementParameters": "[{\"Id\":\"StartEvent_1\",\"Type\":0,\"Parameters\":{\"manualTriggerDefaultValue-9\":\"ErrorSettings1\",\"manualTriggerDefaultValue-0\":\"\",\"manualTriggerDefaultValue-1\":\"Esim: ID9999.01 (KORVAA ESIM. PROSESSIN TUNNISTEELLA)\",\"manualTriggerDefaultValue-6\":\"\"},\"SelectedTypeId\":\"ManualTrigger\",\"PromoteResultAs\":null,\"Name\":\"Manual\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":false,\"ShouldDispose\":null},{\"Id\":\"EndEvent_0zs7v2r\",\"Type\":5,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"new {\\n    Id = #var.key,\\n    Alerted = #var.alerted,\\n    Type = #var.type\\n}\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ExclusiveGateway_1gmux2j\",\"Type\":2,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"#result.Success == true\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Id found?\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_00cpskj\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"yes\",\"Description\":null,\"IsDefault\":false,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"ExclusiveGateway_1vgn3v1\",\"Type\":2,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"#var.secs > #var.parsed.MuteTimespanSecs\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Mute timespan exceeded?\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_0semj4j\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"no\",\"Description\":null,\"IsDefault\":true,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_0i9f9ml\",\"Type\":12,\"Parameters\":{\"variableName\":\"secs\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"(DateTime.Now - \\n    DateTime.Parse(#var.errorKeyValue.LastAlertTime.ToString())).TotalSeconds\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Seconds since last Alarm\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":false,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_0ifgu6l\",\"Type\":12,\"Parameters\":{\"variableName\":\"alerted\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"false\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Init alerted false\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_0n0l6qm\",\"Type\":12,\"Parameters\":{\"variableName\":\"secs\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"0\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Init seconds variable\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_17kvydy\",\"Type\":12,\"Parameters\":{\"variableName\":\"alerted\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"true\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Alerted variable = true 1\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ExclusiveGateway_1f33hj1\",\"Type\":2,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"!String.IsNullOrWhiteSpace(#trigger.data.Recipients.TrimStart(';').TrimEnd(';')) && \\n#var.alerted == true &&\\n#var.parsed.Enabled == true\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Send Email?\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SubProcess_1ljq5dl\",\"Type\":8,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Main scope\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"StartEvent_1skgjsa\",\"Type\":13,\"Parameters\":{},\"SelectedTypeId\":\"\",\"PromoteResultAs\":null,\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"IntermediateCatchEvent_14zs319\",\"Type\":14,\"Parameters\":{\"expression\":\"error\"},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SubProcess_1xtotsc\",\"Type\":8,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Error scope\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"StartEvent_01p1myu\",\"Type\":13,\"Parameters\":{},\"SelectedTypeId\":\"\",\"PromoteResultAs\":null,\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"EndEvent_12cy8nc\",\"Type\":5,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"new {\\n    Id = #var.key,\\n    Alerted = false,\\n    Type = \\\"ERROR\\\"\\n}\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"EndEvent_0itz2t3\",\"Type\":5,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"#result.Id.ToString() + \\\", \\\" + \\n#result.Alerted.ToString() + \\\", \\\" + \\n#result.Type.ToString()\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":\"Result\",\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"ExclusiveGateway_0pcx5uh\",\"Type\":2,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"// Add one to error counter since the fetched one is \\n// actually the number of errors before current one\\n(#var.errorKeyValue.ErrorCounter + 1) >= #var.parsed.ThresholdCount\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Threshold EXCEEDED (OR not set when defaults to 0)?\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_0xii2tt\",\"Type\":12,\"Parameters\":{\"variableName\":\"alerted\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"true\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Alerted variable = true 2\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_0xazr5m\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"no\",\"Description\":null,\"IsDefault\":true,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_06f5jnt\",\"Type\":12,\"Parameters\":{\"variableName\":\"type\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"\\\"\\\"\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Init type\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_14j9iaq\",\"Type\":12,\"Parameters\":{\"variableName\":\"type\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"\\\"First Alert\\\"\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign type 1\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_0zr1ai2\",\"Type\":12,\"Parameters\":{\"variableName\":\"type\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"#var.parsed.ThresholdCount > 1 ?\\n\\\"Timespan and/or threshold exceeded\\\" :\\n\\\"Timespan exceeded\\\"\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign type 2\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_0ernt58\",\"Type\":12,\"Parameters\":{\"variableName\":\"type\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"\\\"Muted\\\"\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign type 4\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_0asjsy5\",\"Type\":12,\"Parameters\":{\"variableName\":\"type\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"\\\"Threshold not reached\\\"\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign type 5\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_138zghn\",\"Type\":12,\"Parameters\":{\"variableName\":\"type\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"\\\"Threshold reset\\\"\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign type 3\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_0k06jl3\",\"Type\":12,\"Parameters\":{\"variableName\":\"minutes\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"(DateTime.Now - \\n    DateTime.Parse(#var.errorKeyValue.LastErrorTime.ToString())).TotalMinutes\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Minutes since last Error\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":false,\"ShouldDispose\":null},{\"Id\":\"ExclusiveGateway_01z74ya\",\"Type\":2,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"// Reset time tulee olla yli 0, jotta sen pohjalta  \\n// tehdään päättelyä, tarkisteaan myös että ThresholdCount on määritelty (on yli 1)\\n#var.parsed.ThresholdResetMins > 0 &&\\n#var.parsed.ThresholdCount > 1 &&\\n#var.minutes >= #var.parsed.ThresholdResetMins\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Threshold function in use and ResetTime REACHED?\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_12x1c7e\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"yes\",\"Description\":null,\"IsDefault\":false,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_1o5a7o5\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"no\",\"Description\":null,\"IsDefault\":true,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_11llk6n\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"yes\",\"Description\":null,\"IsDefault\":false,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_05u83q2\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"no\",\"Description\":null,\"IsDefault\":true,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_0pmumv8\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"yes\",\"Description\":null,\"IsDefault\":false,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"ExclusiveGateway_1j5fd8y\",\"Type\":2,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"#var.parsed.ThresholdCount > 1\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Threshold SET and NOT reached?\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"ScriptTask_1usvszs\",\"Type\":12,\"Parameters\":{\"variableName\":\"type\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"\\\"Threshold not reached\\\"\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign type 6\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_0qpsntk\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"no\",\"Description\":null,\"IsDefault\":true,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"SequenceFlow_188s2kz\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"yes\",\"Description\":null,\"IsDefault\":false,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Activity_1s9e97g\",\"Type\":12,\"Parameters\":{\"variableName\":\"key\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"\\\"ErrorKey_\\\" + #trigger.data.Id\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign id\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"Activity_0dqbz0b\",\"Type\":20,\"Parameters\":{\"keyExpression\":{\"mode\":\"csharp\",\"value\":\"#var.key\"},\"valueExpression\":{\"mode\":\"csharp\",\"value\":\"\"},\"ttlValue\":{\"mode\":\"integer\",\"value\":60},\"ttlMultiplier\":60,\"throwIfFalse\":false,\"isGlobalScope\":true},\"SelectedTypeId\":\"TryGetValue\",\"PromoteResultAs\":null,\"Name\":\"Get Key value\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":false,\"ShouldDispose\":null},{\"Id\":\"Activity_1bvj2k5\",\"Type\":20,\"Parameters\":{\"keyExpression\":{\"mode\":\"csharp\",\"value\":\"#var.key\"},\"valueExpression\":{\"mode\":\"csharp\",\"value\":\"new {\\n    // Set AlertTime to the past based on MuteTimeSpanSeconds (can be zero)\\n    // This way first actual alert will not be muted incorrectly (if mute timespan is used)\\n    LastAlertTime = DateTime.Now.AddSeconds((-2) * #var.parsed.MuteTimespanSecs),\\n    LastErrorTime = DateTime.Now,\\n    ErrorCounter = 1\\n}\"},\"ttlValue\":{\"mode\":\"csharp\",\"value\":24},\"ttlMultiplier\":3600,\"throwIfFalse\":true,\"isGlobalScope\":true},\"SelectedTypeId\":\"AddOrUpdate\",\"PromoteResultAs\":null,\"Name\":\"Add: New with ErrorCounter = 1 (1)\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"Activity_0y8yrpz\",\"Type\":20,\"Parameters\":{\"keyExpression\":{\"mode\":\"csharp\",\"value\":\"#var.key\"},\"valueExpression\":{\"mode\":\"csharp\",\"value\":\"new {\\n    LastAlertTime = DateTime.Now,\\n    LastErrorTime = DateTime.Now,\\n    ErrorCounter = 1\\n}\"},\"ttlValue\":{\"mode\":\"csharp\",\"value\":24},\"ttlMultiplier\":3600,\"throwIfFalse\":true,\"isGlobalScope\":true},\"SelectedTypeId\":\"AddOrUpdate\",\"PromoteResultAs\":null,\"Name\":\"Add: New with ErrorCounter = 1 (2)\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"Activity_0q4pds2\",\"Type\":20,\"Parameters\":{\"keyExpression\":{\"mode\":\"csharp\",\"value\":\"#var.key\"},\"valueExpression\":{\"mode\":\"csharp\",\"value\":\"new {\\n    LastAlertTime = #var.errorKeyValue.LastAlertTime,\\n    LastErrorTime = DateTime.Now,\\n    ErrorCounter = 1\\n}\"},\"ttlValue\":{\"mode\":\"csharp\",\"value\":\"24\"},\"ttlMultiplier\":3600,\"throwIfFalse\":true,\"isGlobalScope\":true},\"SelectedTypeId\":\"AddOrUpdate\",\"PromoteResultAs\":null,\"Name\":\"Update: Reset ErrorCounter & Update Error time\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"Activity_1omki58\",\"Type\":20,\"Parameters\":{\"keyExpression\":{\"mode\":\"csharp\",\"value\":\"#var.key\"},\"valueExpression\":{\"mode\":\"csharp\",\"value\":\"new {\\n    LastAlertTime = #var.errorKeyValue.LastAlertTime,\\n    LastErrorTime = DateTime.Now,\\n    ErrorCounter = #var.errorKeyValue.ErrorCounter + 1\\n}\"},\"ttlValue\":{\"mode\":\"csharp\",\"value\":24},\"ttlMultiplier\":3600,\"throwIfFalse\":true,\"isGlobalScope\":true},\"SelectedTypeId\":\"AddOrUpdate\",\"PromoteResultAs\":null,\"Name\":\"Update: Increment ErrorCounter & Update Error time (1)\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"Activity_1y30yub\",\"Type\":20,\"Parameters\":{\"keyExpression\":{\"mode\":\"csharp\",\"value\":\"#var.key\"},\"valueExpression\":{\"mode\":\"csharp\",\"value\":\"new {\\n    LastAlertTime = DateTime.Now,\\n    LastErrorTime = DateTime.Now,\\n    ErrorCounter = #var.errorKeyValue.ErrorCounter + 1\\n}\"},\"ttlValue\":{\"mode\":\"csharp\",\"value\":24},\"ttlMultiplier\":3600,\"throwIfFalse\":true,\"isGlobalScope\":true},\"SelectedTypeId\":\"AddOrUpdate\",\"PromoteResultAs\":null,\"Name\":\"Update: Increment ErrorCounter & Update BOTH times\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"Activity_1s1fmg0\",\"Type\":20,\"Parameters\":{\"keyExpression\":{\"mode\":\"csharp\",\"value\":\"#var.key\"},\"valueExpression\":{\"mode\":\"csharp\",\"value\":\"new {\\n    LastAlertTime = #var.errorKeyValue.LastAlertTime,\\n    LastErrorTime = DateTime.Now,\\n    ErrorCounter = #var.errorKeyValue.ErrorCounter + 1\\n}\"},\"ttlValue\":{\"mode\":\"csharp\",\"value\":24},\"ttlMultiplier\":3600,\"throwIfFalse\":true,\"isGlobalScope\":true},\"SelectedTypeId\":\"AddOrUpdate\",\"PromoteResultAs\":null,\"Name\":\"Update: Increment ErrorCounter & Update Error time (2)\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":true,\"ShouldDispose\":null},{\"Id\":\"Activity_1sdft92\",\"Type\":12,\"Parameters\":{\"variableName\":\"errorKeyValue\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"#result[Get Key value].Value\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign errorKeyValue\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Activity_05m0e8c\",\"Type\":12,\"Parameters\":{\"useStatementMode\":{\"mode\":\"toggle\",\"value\":true},\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"{\\n    var errorSettingsJson = new JObject();\\n    var errorSettings = #trigger.data.ErrorSettingsJson;\\n\\n    // Default values for enabled, setComoponent are true\\n    var enabled = true;\\n    var setComponent = true;\\n\\n    // Default counts and times are 0 (-> when not used in practice)\\n    var thresholdCount = 0;\\n    var thresholdResetMins = 0;\\n    var muteTimespanSecs = 0;\\n    var priority = 0;\\n    var priorityStr = \\\"\\\";\\n\\n    // If errorSettings is defined, parse the settings\\n    // if not, use the default values\\n    if(!String.IsNullOrWhiteSpace(errorSettings))\\n    {\\n        try \\n        {\\n            errorSettingsJson = JToken.Parse(errorSettings);\\n\\n            // Set values from settings json \\n            enabled = errorSettingsJson[\\\"Enabled\\\"]?.Value<bool>() ?? enabled;\\n            thresholdCount = errorSettingsJson[\\\"ThresholdCount\\\"]?.Value<int>() ?? thresholdCount;\\n            thresholdResetMins = errorSettingsJson[\\\"ThresholdResetTimeMinutes\\\"]?.Value<int>() ?? thresholdResetMins;\\n            muteTimespanSecs = errorSettingsJson[\\\"MuteTimeSpanSeconds\\\"]?.Value<int>() ?? muteTimespanSecs;\\n            priority = errorSettingsJson[\\\"ErrorPriority\\\"]?.Value<int>() ?? priority;\\n            setComponent = errorSettingsJson[\\\"SetComponent\\\"]?.Value<bool>() ?? setComponent;\\n            \\n            switch(priority)\\n            {\\n                case 1:\\n                    priorityStr = \\\"Blocker\\\";\\n                    break;\\n                case 2:\\n                    priorityStr = \\\"Major\\\";\\n                    break;\\n                case 3:\\n                    priorityStr = \\\"Medium\\\";\\n                    break;\\n                case 4:\\n                    priorityStr = \\\"Low\\\";\\n                    break;\\n                default:\\n                    priorityStr = \\\"\\\";\\n                    break;\\n            }\\n        } catch (Exception) {\\n            // If something goes wrong, just use default values (all zero / true)\\n        }\\n    }\\n\\n    return new {\\n        Enabled = enabled,\\n        ThresholdCount = thresholdCount,\\n        ThresholdResetMins = thresholdResetMins,\\n        MuteTimespanSecs = muteTimespanSecs,\\n        ErrorPriority = priorityStr,\\n        // Component from Id if used\\n        Component = setComponent ? #trigger.data.Id : \\\"\\\"\\n    };\\n}\",\"disableWordWrap\":true},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true},\"variableName\":\"parsed\"},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Parse parameters & Set defaults\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":false,\"ShouldDispose\":null},{\"Id\":\"Flow_1gtqp7q\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"yes\",\"Description\":null,\"IsDefault\":false,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Gateway_1quts36\",\"Type\":2,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"!String.IsNullOrWhiteSpace(#trigger.data.Id) &&\\n!#trigger.data.Id.Contains(\\\"Esim\\\")\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Id given & valid?\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Event_0et4uta\",\"Type\":6,\"Parameters\":{\"expression\":{\"mode\":\"text\",\"value\":\"Id-parameter is mandatory and should be a valid process identifier\"},\"bypassGlobalExceptionHandler\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Flow_07zub2x\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"no\",\"Description\":null,\"IsDefault\":true,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Activity_1ykjzk3\",\"Type\":12,\"Parameters\":{\"variableName\":\"emailMsg\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"#trigger.data.Message + Environment.NewLine + Environment.NewLine + \\n\\n(!String.IsNullOrWhiteSpace(#trigger.data.ExecutionId) ? \\n(\\\"frends-suoritus: \\\" + \\n\\\"https://demo.frendsapp.com/ProcessInstance/Instance/\\\" + \\n#trigger.data.ExecutionId) : \\\"\\\") + \\n\\n(#var.parsed.ErrorPriority != \\\"\\\" ? \\n(Environment.NewLine + Environment.NewLine + \\\"@priority=\\\" + #var.parsed.ErrorPriority) : \\\"\\\") +\\n\\n(#var.parsed.Component != \\\"\\\" ? \\n(Environment.NewLine + Environment.NewLine + \\\"@component=\\\" + #var.parsed.Component) : \\\"\\\")\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign emailMsg\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Flow_1swcign\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"no\",\"Description\":null,\"IsDefault\":true,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Flow_0rizs8u\",\"Type\":4,\"Parameters\":{},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"yes\",\"Description\":null,\"IsDefault\":false,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Activity_0ji5w0f\",\"Type\":1,\"Parameters\":{\"message\":{\"To\":{\"mode\":\"csharp\",\"value\":\"(#trigger.data.Recipients).TrimStart(';').TrimEnd(';')\"},\"Cc\":{\"mode\":\"text\",\"value\":\"\"},\"Bcc\":{\"mode\":\"text\",\"value\":\"\"},\"From\":{\"mode\":\"csharp\",\"value\":\"\\\"\\\"//TODO env.Reporting.EmailFrom\"},\"SenderName\":{\"mode\":\"csharp\",\"value\":\"\\\"\\\"//TODO env.Reporting.EmailSenderName\"},\"Subject\":{\"mode\":\"text\",\"value\":\"{{#trigger.data.Subject}} ({{#process.environment}})\"},\"Message\":{\"mode\":\"csharp\",\"value\":\"#var.emailMsg\"},\"IsMessageHtml\":{\"mode\":\"toggle\",\"value\":false},\"MessageEncoding\":{\"mode\":\"text\",\"value\":\"utf-8\"}},\"attachments\":[],\"SMTPSettings\":{\"SMTPServer\":{\"mode\":\"csharp\",\"value\":\"\\\"\\\"//TODO env.Reporting.SmtpServer\"},\"Port\":{\"mode\":\"integer\",\"value\":25},\"SecureSocket\":{\"mode\":\"select\",\"value\":\"Auto\"},\"AcceptAllCerts\":{\"mode\":\"toggle\",\"value\":false},\"UserName\":{\"mode\":\"csharp\",\"value\":\"\\\"\\\"//TODO env.Reporting.SmtpUsername\"},\"Password\":{\"mode\":\"csharp\",\"value\":\"\\\"\\\"//TODO env.Reporting.SmtpPassword\"}},\"cancellationToken\":null},\"SelectedTypeId\":\"/ProcessTask/cba1423c-006b-4860-b21a-0c05831b640b/v1\",\"PromoteResultAs\":null,\"Name\":\"Send Email\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":false,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null}]",
			"ManualTriggerJson": "[{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"Recipients\",\"isSecret\":false,\"description\":\"Viestin vastaanottajan/ottajien sähköpostiosoitteet (puolipisteellä eroteltuina)\",\"nonStringifiedDefaultValue\":\"\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"Esim: ID9999.01 (KORVAA ESIM. PROSESSIN TUNNISTEELLA)\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"Id\",\"isSecret\":false,\"description\":\"Kutsujan uniikki tunniste, usein prosesin tunniste tai jokin vielä tarkempi tunniste. Tätä käytetään myös mahdollisena Jira-Componentina.\",\"nonStringifiedDefaultValue\":\"Esim: ID9999.01 (KORVAA ESIM. PROSESSIN TUNNISTEELLA)\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"VIRHE: {{#process.name}}\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"Subject\",\"isSecret\":false,\"nonStringifiedDefaultValue\":\"VIRHE: {{#process.name}}\",\"description\":\"Virheviestin otsikko\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"Virheen tiedot: {{#var.error.Message}}\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"Message\",\"isSecret\":false,\"nonStringifiedDefaultValue\":\"Virheen tiedot: {{#var.error.Message}}\",\"description\":\"Virheviestin sisältö\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"{{#process.executionId}}\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"ExecutionId\",\"isSecret\":false,\"nonStringifiedDefaultValue\":\"{{#process.executionId}}\",\"description\":\"Pääprosessin suoritetun instanssin Id (linkki suoritukseen rakennetaan tämän avulla).\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"LogMessage\",\"isSecret\":false,\"description\":\"Valinnainen laajempi virheilmoitus / stacktrace, käytetään vain mahdolliseen lokitukseen, ei sisällytetä raportointiin\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"ErrorSettingsJson\",\"isSecret\":false,\"nonStringifiedDefaultValue\":\"\",\"description\":\"Virheasetukset, jossa mm. mute timespan- ja error threshold -parametrit.\"}]",
			"IsSubprocess": true,
			"TriggersJson": "[{\"$type\":\"ManualTrigger\",\"config\":{\"manualTriggerDefaultValue-9\":\"ErrorSettings1\",\"manualTriggerDefaultValue-0\":\"\",\"manualTriggerDefaultValue-1\":\"Esim: ID9999.01 (KORVAA ESIM. PROSESSIN TUNNISTEELLA)\",\"manualTriggerDefaultValue-6\":\"\"},\"name\":\"Manual\",\"id\":\"StartEvent_1\",\"shouldNotLogParameters\":false}]",
			"AssemblyName": "Frends.ExecutableProcess.frends_Virheenhal",
			"PackageId": "Virheenhal558464bece52479a990c65b6f1f6ad6e",
			"PackageVersion": "0.1.9",
			"UsedTasksJson": "[\"/ProcessTask/CBA1423C-006B-4860-B21A-0C05831B640B/v1\"]",
			"UsedSubprocessesJson": "{}",
			"ProcessExecutionVersion": "4.4.2",
			"FrendsVersion": "5.8.1.646",
			"TargetFramework": "netstandard2.0",
			"StaticRequiredEnvironmentVariables": [],
			"RequiredEnvironmentVariables": [],
			"PromotedResultVariablesJson": "[\"Result\"]",
			"MajorVersion": 0,
			"MinorVersion": 1,
			"IsForMonitoringRule": false,
			"ProcessVariablesJson": null
		}
	],
	"LinkedTasks": {
		"558464be-ce52-479a-990c-65b6f1f6ad6e": [
			{
				"Id": "cba1423c-006b-4860-b21a-0c05831b640b",
				"PackageId": "Frends.Community.Email",
				"PackageVersion": "2.5.2",
				"Name": "Frends.Community.Email.EmailTask.SendEmail(Input, Attachment[], Options, CancellationToken)",
				"FrameworkIdentifier": ".NETStandard"
			}
		]
	},
	"LinkedSubProcess": {},
	"Version": "Acc41"
}