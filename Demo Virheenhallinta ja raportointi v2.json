{
	"Processes": [
		{
			"Name": "Demo Virheenhallinta ja raportointi v2",
			"Modified": "2024-10-16T10:01:13.0097316",
			"Modifier": "jarmo.ollikainen@frends.com",
			"TagString": null,
			"Tags": [],
			"Description": "",
			"Version": 7,
			"UniqueIdentifier": "40b863ef-e771-49dd-b4c4-f77a6626b5aa",
			"GraphJson": "",
			"Bpmn": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:bioc=\"http://bpmn.io/schema/bpmn/biocolor/1.0\" xmlns:color=\"http://www.omg.org/spec/BPMN/non-normative/color/1.0\" id=\"sample-diagram\" targetNamespace=\"http://bpmn.io/schema/bpmn\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\"><bpmn2:process id=\"Process_1\" isExecutable=\"false\"><bpmn2:startEvent id=\"StartEvent_1\" name=\"Manual\"><bpmn2:outgoing>Flow_1c7todt</bpmn2:outgoing></bpmn2:startEvent><bpmn2:scriptTask id=\"Activity_1rh3tzo\" name=\"Assign errorMsg\"><bpmn2:incoming>Flow_1c7todt</bpmn2:incoming><bpmn2:outgoing>Flow_12jayur</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:sequenceFlow id=\"Flow_1c7todt\" sourceRef=\"StartEvent_1\" targetRef=\"Activity_1rh3tzo\" /><bpmn2:subProcess id=\"Activity_1hevj03\" name=\"ForEach: Numbers 1-6\"><bpmn2:incoming>Flow_12jayur</bpmn2:incoming><bpmn2:outgoing>Flow_1bepl3z</bpmn2:outgoing><bpmn2:multiInstanceLoopCharacteristics isSequential=\"true\" /><bpmn2:startEvent id=\"Event_1d348iw\"><bpmn2:outgoing>Flow_1g0hp0j</bpmn2:outgoing></bpmn2:startEvent><bpmn2:endEvent id=\"Event_00m1spv\"><bpmn2:incoming>Flow_1vk9iaf</bpmn2:incoming></bpmn2:endEvent><bpmn2:scriptTask id=\"Activity_0edmbz7\" name=\"Sleep 2s\"><bpmn2:incoming>Flow_1g0hp0j</bpmn2:incoming><bpmn2:outgoing>Flow_00kn4mo</bpmn2:outgoing></bpmn2:scriptTask><bpmn2:callActivity id=\"Activity_0x7qujc\" name=\"Virheenhallinta ja raportointi v2\"><bpmn2:incoming>Flow_00kn4mo</bpmn2:incoming><bpmn2:outgoing>Flow_1vk9iaf</bpmn2:outgoing></bpmn2:callActivity><bpmn2:sequenceFlow id=\"Flow_00kn4mo\" sourceRef=\"Activity_0edmbz7\" targetRef=\"Activity_0x7qujc\" /><bpmn2:sequenceFlow id=\"Flow_1g0hp0j\" sourceRef=\"Event_1d348iw\" targetRef=\"Activity_0edmbz7\" /><bpmn2:sequenceFlow id=\"Flow_1vk9iaf\" sourceRef=\"Activity_0x7qujc\" targetRef=\"Event_00m1spv\" /></bpmn2:subProcess><bpmn2:sequenceFlow id=\"Flow_12jayur\" sourceRef=\"Activity_1rh3tzo\" targetRef=\"Activity_1hevj03\" /><bpmn2:endEvent id=\"Event_05vbnpu\"><bpmn2:incoming>Flow_1bepl3z</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id=\"Flow_1bepl3z\" sourceRef=\"Activity_1hevj03\" targetRef=\"Event_05vbnpu\" /><bpmn2:textAnnotation id=\"TextAnnotation_1vi6cvh\"><bpmn2:text>Luodaan demon lopputuloksen havainnollistamiseksi iteraation tulokseksi:\n\niteration index + subprocess result</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_0cj91pe\" sourceRef=\"Event_00m1spv\" targetRef=\"TextAnnotation_1vi6cvh\" /><bpmn2:textAnnotation id=\"TextAnnotation_1xrrad3\"><bpmn2:text>HUOM: Katso täältä koko demon lopputulos.</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_1qqxg65\" sourceRef=\"Event_05vbnpu\" targetRef=\"TextAnnotation_1xrrad3\" /><bpmn2:textAnnotation id=\"TextAnnotation_10vtfrn\"><bpmn2:text>Tässä esimerkissä kutsutaan suoraan virheenhallinta-aliprosessia ja näin simuloidaan peräkkäisissä integraatiosuorituksissa tapahtuvan saman virheen käsittelyä.\n\nKatso tämän pääprosessin asetuksista (Settings &gt; Subprocess to call on unhandled error) esimerkki kuinka virheenhallinta-aliprosessi otetaan käyttöön odottamattomien virheiden käsittelijäksi.</bpmn2:text></bpmn2:textAnnotation><bpmn2:association id=\"Association_0mkg1b7\" sourceRef=\"Activity_0x7qujc\" targetRef=\"TextAnnotation_10vtfrn\" /></bpmn2:process><bpmndi:BPMNDiagram id=\"BPMNDiagram_1\"><bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Process_1\"><bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_2\" bpmnElement=\"StartEvent_1\"><dc:Bounds x=\"472\" y=\"322\" width=\"36\" height=\"36\" /><bpmndi:BPMNLabel><dc:Bounds x=\"472\" y=\"358\" width=\"37\" height=\"14\" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_1rh3tzo_di\" bpmnElement=\"Activity_1rh3tzo\"><dc:Bounds x=\"575\" y=\"325\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_1hevj03_di\" bpmnElement=\"Activity_1hevj03\" isExpanded=\"true\"><dc:Bounds x=\"680\" y=\"253\" width=\"410\" height=\"177\" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Event_1d348iw_di\" bpmnElement=\"Event_1d348iw\"><dc:Bounds x=\"720\" y=\"324\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Event_00m1spv_di\" bpmnElement=\"Event_00m1spv\" bioc:fill=\"#ffbb95\" color:background-color=\"#ffbb95\"><dc:Bounds x=\"1012\" y=\"324\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_0edmbz7_di\" bpmnElement=\"Activity_0edmbz7\"><dc:Bounds x=\"796\" y=\"327\" width=\"30\" height=\"30\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"Activity_0x7qujc_di\" bpmnElement=\"Activity_0x7qujc\" bioc:fill=\"#ffbb95\" color:background-color=\"#ffbb95\"><dc:Bounds x=\"870\" y=\"302\" width=\"100\" height=\"80\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\"Flow_00kn4mo_di\" bpmnElement=\"Flow_00kn4mo\"><di:waypoint x=\"826\" y=\"342\" /><di:waypoint x=\"870\" y=\"342\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1g0hp0j_di\" bpmnElement=\"Flow_1g0hp0j\"><di:waypoint x=\"756\" y=\"342\" /><di:waypoint x=\"796\" y=\"342\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1vk9iaf_di\" bpmnElement=\"Flow_1vk9iaf\"><di:waypoint x=\"970\" y=\"342\" /><di:waypoint x=\"1012\" y=\"342\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\"Event_05vbnpu_di\" bpmnElement=\"Event_05vbnpu\" bioc:fill=\"#ffbb95\" color:background-color=\"#ffbb95\"><dc:Bounds x=\"1142\" y=\"322\" width=\"36\" height=\"36\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_1vi6cvh_di\" bpmnElement=\"TextAnnotation_1vi6cvh\"><dc:Bounds x=\"970\" y=\"120\" width=\"220\" height=\"90\" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_1xrrad3_di\" bpmnElement=\"TextAnnotation_1xrrad3\"><dc:Bounds x=\"1180\" y=\"253\" width=\"160\" height=\"40\" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\"TextAnnotation_10vtfrn_di\" bpmnElement=\"TextAnnotation_10vtfrn\"><dc:Bounds x=\"850\" y=\"470\" width=\"270\" height=\"160\" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\"Flow_1c7todt_di\" bpmnElement=\"Flow_1c7todt\"><di:waypoint x=\"508\" y=\"340\" /><di:waypoint x=\"575\" y=\"340\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_12jayur_di\" bpmnElement=\"Flow_12jayur\"><di:waypoint x=\"605\" y=\"340\" /><di:waypoint x=\"680\" y=\"340\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Flow_1bepl3z_di\" bpmnElement=\"Flow_1bepl3z\"><di:waypoint x=\"1090\" y=\"340\" /><di:waypoint x=\"1142\" y=\"340\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_0cj91pe_di\" bpmnElement=\"Association_0cj91pe\"><di:waypoint x=\"1029\" y=\"324\" /><di:waypoint x=\"1020\" y=\"210\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_1qqxg65_di\" bpmnElement=\"Association_1qqxg65\"><di:waypoint x=\"1172\" y=\"327\" /><di:waypoint x=\"1206\" y=\"293\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\"Association_0mkg1b7_di\" bpmnElement=\"Association_0mkg1b7\"><di:waypoint x=\"914\" y=\"382\" /><di:waypoint x=\"902\" y=\"470\" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn2:definitions>",
			"ElementParameters": "[{\"Id\":\"StartEvent_1\",\"Type\":0,\"Parameters\":{},\"SelectedTypeId\":\"ManualTrigger\",\"PromoteResultAs\":null,\"Name\":\"Manual\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Activity_1rh3tzo\",\"Type\":12,\"Parameters\":{\"variableName\":\"errorMsg\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"\\\"Demo-virheviesti\\\"\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":true},\"returnType\":\"\"},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Assign errorMsg\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Event_1d348iw\",\"Type\":13,\"Parameters\":{},\"SelectedTypeId\":\"\",\"PromoteResultAs\":null,\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Activity_1hevj03\",\"Type\":10,\"Parameters\":{\"variable\":\"iteration\",\"expression\":{\"mode\":\"csharp\",\"value\":\"new int[]{1,2,3,4,5,6}\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"ForEach: Numbers 1-6\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Activity_0edmbz7\",\"Type\":12,\"Parameters\":{\"variableName\":\"\",\"variableExpression\":{\"mode\":\"csharp\",\"value\":\"System.Threading.Thread.Sleep(2000)\"},\"shouldAssignVariable\":{\"mode\":\"toggle\",\"value\":false}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":\"Sleep 2s\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Event_00m1spv\",\"Type\":5,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"#var.iteration_index + \\\": \\\" + #result\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Activity_0x7qujc\",\"Type\":7,\"Parameters\":{\"Recipients\":{\"mode\":\"csharp\",\"value\":\"\\\"\\\" // Oikeassa käytössä käytä ympäristömuuttujaa, johon on tallennettu vastaanottajalista\"},\"Id\":{\"mode\":\"text\",\"value\":\"ID1001\"},\"Subject\":{\"mode\":\"text\",\"value\":\"VIRHE: {{#process.name}}\"},\"Message\":{\"mode\":\"csharp\",\"value\":\"\\\"Virheen tiedot: \\\" + #var.errorMsg\"},\"ExecutionId\":{\"mode\":\"text\",\"value\":\"{{#process.executionId}}\"},\"LogMessage\":{\"mode\":\"text\",\"value\":\"\"},\"ErrorSettingsJson\":{\"mode\":\"text\",\"value\":\"{\\r\\n\\t\\\"Enabled\\\": true,\\r\\n\\t\\\"MuteTimeSpanSeconds\\\": 5,\\r\\n\\t\\\"ThresholdCount\\\": 3,\\r\\n\\t\\\"ThresholdResetTimeMinutes\\\": 10,\\r\\n\\t\\\"ErrorPriority\\\": 1,\\r\\n\\t\\\"SetComponent\\\": true\\r\\n}\"}},\"SelectedTypeId\":\"558464be-ce52-479a-990c-65b6f1f6ad6e\",\"PromoteResultAs\":null,\"Name\":\"Virheenhallinta ja raportointi v2\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":false,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"Event_05vbnpu\",\"Type\":5,\"Parameters\":{\"expression\":{\"mode\":\"csharp\",\"value\":\"String.Join(\\\"\\\\n\\\", #result)\"}},\"SelectedTypeId\":null,\"PromoteResultAs\":null,\"Name\":null,\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null},{\"Id\":\"globalErrorHandler\",\"Type\":18,\"Parameters\":{\"Recipients\":{\"mode\":\"csharp\",\"value\":\"\\\"\\\" // Oikeassa käytössä käytä ympäristömuuttujaa, johon on tallennettu vastaanottajalista\"},\"Id\":{\"mode\":\"text\",\"value\":\"ID1234\"},\"Subject\":{\"mode\":\"text\",\"value\":\"VIRHE: {{#process.name}}\"},\"Message\":{\"mode\":\"text\",\"value\":\"Virheen tiedot: {{#var.error.Message}}\"},\"ExecutionId\":{\"mode\":\"text\",\"value\":\"{{#process.executionId}}\"},\"LogMessage\":{\"mode\":\"text\",\"value\":\"\"},\"ErrorSettingsJson\":{\"mode\":\"json\",\"value\":\"{\\r\\n\\t\\\"Enabled\\\": true,\\r\\n\\t\\\"MuteTimeSpanSeconds\\\": 5,\\r\\n\\t\\\"ThresholdCount\\\": 3,\\r\\n\\t\\\"ThresholdResetTimeMinutes\\\": 10,\\r\\n\\t\\\"ErrorPriority\\\": 1,\\r\\n\\t\\\"SetComponent\\\": true\\r\\n}\"},\"__timeoutMinutes\":180},\"SelectedTypeId\":\"558464be-ce52-479a-990c-65b6f1f6ad6e\",\"PromoteResultAs\":null,\"Name\":\"GlobalErrorHandler\",\"Description\":null,\"IsDefault\":null,\"ShouldRetry\":null,\"MaxRetryCount\":null,\"ShouldNotLogResult\":null,\"ShouldDispose\":null}]",
			"ManualTriggerJson": "[]",
			"IsSubprocess": false,
			"TriggersJson": "[{\"$type\":\"ManualTrigger\",\"config\":{},\"name\":\"Manual\",\"id\":\"StartEvent_1\",\"shouldNotLogParameters\":null}]",
			"AssemblyName": "Frends.ExecutableProcess.frends_DemoVirhee",
			"PackageId": "DemoVirhee40b863efe77149ddb4c4f77a6626b5aa",
			"PackageVersion": "0.1.7",
			"UsedTasksJson": "[]",
			"UsedSubprocessesJson": "{\"558464be-ce52-479a-990c-65b6f1f6ad6e\":[\"__localCall\"]}",
			"ProcessExecutionVersion": "4.4.2",
			"FrendsVersion": "5.8.1.646",
			"TargetFramework": "netstandard2.0",
			"StaticRequiredEnvironmentVariables": [],
			"RequiredEnvironmentVariables": [],
			"PromotedResultVariablesJson": "[]",
			"MajorVersion": 0,
			"MinorVersion": 1,
			"IsForMonitoringRule": false,
			"ProcessVariablesJson": null
		}
	],
	"LinkedTasks": {},
	"LinkedSubProcess": {
		"40b863ef-e771-49dd-b4c4-f77a6626b5aa": [
			{
				"SubProcessName": "Virheenhallinta ja raportointi v2",
				"SubProcessGuid": "558464be-ce52-479a-990c-65b6f1f6ad6e",
				"ManualTriggersJson": "[{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"Recipients\",\"isSecret\":false,\"description\":\"Viestin vastaanottajan/ottajien sähköpostiosoitteet (puolipisteellä eroteltuina)\",\"nonStringifiedDefaultValue\":\"\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"Esim: ID9999.01 (KORVAA ESIM. PROSESSIN TUNNISTEELLA)\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"Id\",\"isSecret\":false,\"description\":\"Kutsujan uniikki tunniste, usein prosesin tunniste tai jokin vielä tarkempi tunniste. Tätä käytetään myös mahdollisena Jira-Componentina.\",\"nonStringifiedDefaultValue\":\"Esim: ID9999.01 (KORVAA ESIM. PROSESSIN TUNNISTEELLA)\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"VIRHE: {{#process.name}}\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"Subject\",\"isSecret\":false,\"nonStringifiedDefaultValue\":\"VIRHE: {{#process.name}}\",\"description\":\"Virheviestin otsikko\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"Virheen tiedot: {{#var.error.Message}}\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"Message\",\"isSecret\":false,\"nonStringifiedDefaultValue\":\"Virheen tiedot: {{#var.error.Message}}\",\"description\":\"Virheviestin sisältö\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"{{#process.executionId}}\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"ExecutionId\",\"isSecret\":false,\"nonStringifiedDefaultValue\":\"{{#process.executionId}}\",\"description\":\"Pääprosessin suoritetun instanssin Id (linkki suoritukseen rakennetaan tämän avulla).\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"LogMessage\",\"isSecret\":false,\"description\":\"Valinnainen laajempi virheilmoitus / stacktrace, käytetään vain mahdolliseen lokitukseen, ei sisällytetä raportointiin\"},{\"type\":\"System.String\",\"inputType\":\"text\",\"parameterType\":\"TextParameter\",\"defaultValue\":\"\\\"\\\"\",\"displayOption\":\"\",\"conditionalDisplayProperty\":\"\",\"conditionalDisplayValues\":[],\"isInvalid\":false,\"invalidString\":\"\",\"name\":\"ErrorSettingsJson\",\"isSecret\":false,\"nonStringifiedDefaultValue\":\"\",\"description\":\"Virheasetukset, jossa mm. mute timespan- ja error threshold -parametrit.\"}]"
			}
		]
	},
	"Version": "Acc41"
}